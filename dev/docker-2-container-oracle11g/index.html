<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <meta name="author" content="小克迪">
  
  <meta name="description" content="通过学习（GTD、时间管理、知识管理、写作、财务管理）、技术创造（前端、后端、移动端、DevOps）、投资（指数投资、基金、股票、债券）、网赚项目（SEO、Affiliate、Media Buy、Niche、社交媒体）来建立被动收入">
  
  
  
  <meta name="keywords" content="自我提升、时间管理、GTD、写作、摄影、笔记管理、知识管理、财务管理、全栈开发、指数投资、基金、股票、债券、SEO、Affiliate、Media Buy、Niche、社交媒体、被动收入、网赚">
  

  
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@BMPI11">
  <meta name="twitter:creator" content="@madawei2699">
  <meta name="twitter:title" content="Docker-2、容器安装之Oracle 11g r2"/>
  <meta name="twitter:description" content=""/>
  
  
  <meta name="twitter:image" content="https://www.bmpi.dev/images/bg2.png">
  

  
  <meta property="og:title" content="Docker-2、容器安装之Oracle 11g r2" />
<meta property="og:description" content="吐槽 我还在纠结要不要发布这篇文章, 因为谁能想到2022年了居然还要写Oracle 11g的docker安装方法。我最早是在2017年6月份在笔记里记录的11g的docker，一晃5年过去了，这篇文章还用得上。我在几个群里边问了问，很多企业还在用11g和12c，就像他们还在用MySQL5.6，还在用JDK7，还在坚守CentOS，还在用SVN。
再延伸一下，如果文章会打酱油的话，现在CSDN上到处都是长得一模一样的孩子开杂货铺卖酱油了，中文互联网内容在凋零，新互联网人在抱残守缺，不愿输出新内容，进而导致全网性的内容过时、技术过时。
Oracle 11g 容器安装 docker run -p 1521:1521 \ -v /opt/docker/oracle/data/oracle:/data/oracle \ --name oracle11 \ -d registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g  -p [xxxx]:1521 将容器中的1521端口映射到宿主机的xxxx端口  p - port 端口   -v [/xxx/xxx]: /data/oracle 将容器中的/data/oracle 目录映射到宿主机的/xxx/xxx目录，在这里我映射到宿主机的/opt/docker/oracle/data/oracle  v - volume 卷   -d 后台运行容器，并返回容器ID  d - detach 分离    配置环境变量 进入容器内部
docker exec -it --user root oracle11 /bin/bash 安装vim编辑器
yum install vim 编辑 /etc/profile
vim /etc/profile 在尾部添加如下字段" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.bmpi.dev/dev/docker-2-container-oracle11g/" /><meta property="article:section" content="dev" />
<meta property="article:published_time" content="2022-03-03T09:25:12&#43;00:00" />
<meta property="article:modified_time" content="2022-03-03T23:34:20&#43;08:00" /><meta property="og:site_name" content="Unnamed" />


  
  <meta name="og:image" content="https://www.bmpi.dev/images/bg2.png">
  

  

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      
      "@type": "BlogPosting",
      
      "headline": "Docker-2、容器安装之Oracle 11g r2",
      
      "image": "https://www.bmpi.dev/images/cat.png",
      
      "datePublished": "2022-03-03T09:25:12Z",
      "dateModified": "2022-03-03T23:34:20+08:00",
      "author": {
        "@type": "Person",
        "name": "小克迪"
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.bmpi.dev/dev/docker-2-container-oracle11g/"
      },
      "publisher": {
        "@type": "Organization",
        "name": "BMPI.dev",
        "logo": {
          "@type": "ImageObject",
          "url": "https://www.bmpi.dev/images/cat.png"
        }
      },
      "description":  null ,
      "keywords": ["Docker", "Oracle", "Database"]
    }
    </script>



  
  <base href="https://www.bmpi.dev/dev/docker-2-container-oracle11g/">
  
  <title>
  Docker-2、容器安装之Oracle 11g r2 · Unnamed
</title>

  
  <link rel="canonical" href="https://www.bmpi.dev/dev/docker-2-container-oracle11g/">
  

  <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

  
  
  
  <link rel="stylesheet" href="https://www.bmpi.dev/css/coder.min.3f6b19e948698fa2be93c8601e8b7c02aa06e606988efcd235533fc6392ba440.css" integrity="sha256-P2sZ6Uhpj6K&#43;k8hgHot8AqoG5gaYjvzSNVM/xjkrpEA="
    crossorigin="anonymous" media="screen" />
  

  

  
  
  
  
  <link rel="stylesheet" href="https://www.bmpi.dev/css/coder-dark.min.83a2010dac9f59f943b3004cd6c4f230507ad036da635d3621401d42ec4e2835.css" integrity="sha256-g6IBDayfWflDswBM1sTyMFB60DbaY102IUAdQuxOKDU="
    crossorigin="anonymous" media="screen" />
  
  

  

  
  <link rel="stylesheet" href="https://www.bmpi.dev/css/main.css" />
  

  
  <script src="https://www.bmpi.dev/js/lazysizes.min.js" async></script>
  
  <script src="https://www.bmpi.dev/js/flying-pages.min.js" async></script>
  
  <script src="https://www.bmpi.dev/js/custom.js" async></script>
  

  <link rel="icon" type="image/png" href="https://www.bmpi.dev/images/f3/favicon-32x32.png"
    sizes="32x32">
  <link rel="icon" type="image/png" href="https://www.bmpi.dev/images/f3/favicon-16x16.png"
    sizes="16x16">

  <link rel="amphtml" type="text/html" href="https://www.bmpi.dev/amp/dev/docker-2-container-oracle11g/" title="Unnamed" />
  <meta name="generator" content="Hugo 0.83.1" />

  <meta name="baidu-site-verification" content="TiReu51WyJ" />

  
  
  <link rel="preload" href="https://www.bmpi.dev/scss/tagcloud.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://www.bmpi.dev/scss/tagcloud.css"></noscript>

  
  <script defer src='https://platform-api.sharethis.com/js/sharethis.js#property=600a642fe0b9b900111a7f08&product=inline-share-buttons'></script>
  <link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/lxgwwenkai-regular.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/lxgwwenkai-regular.css"></noscript>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  

  
</head>






<body class="colorscheme-auto">
  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://www.bmpi.dev/">
      Unnamed
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.bmpi.dev/about/">关于</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.bmpi.dev/self/">学习</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.bmpi.dev/dev/">技术</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.bmpi.dev/money/">投资</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.bmpi.dev/project/">个人项目</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.bmpi.dev/goal/">长期目标</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title heti">
          <h1 class="title">Docker-2、容器安装之Oracle 11g r2</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2022-03-03T09:25:12Z'>
                2022-03-03
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              
              
              
              3:28
              
            </span>
            
            <span class="post-word-count"> | 167 字 | </span>
            <span id="post-views"></span> 次阅读
            
          </div>
          <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="https://www.bmpi.dev/categories/docker/">Docker</a></div>

          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://www.bmpi.dev/tags/docker/">Docker</a>
      <span class="separator">•</span>
    <a href="https://www.bmpi.dev/tags/oracle/">Oracle</a>
      <span class="separator">•</span>
    <a href="https://www.bmpi.dev/tags/database/">Database</a></div>

        </div>
      </header>

      

      <div class="article">
        <div class="article-content heti" data-aos="fade-up" data-aos-duration="1500" data-aos-anchor-placement="top-bottom">
          
          
          
          
          <h2 id="吐槽">吐槽</h2>
<p>我还在纠结要不要发布这篇文章, 因为谁能想到2022年了居然还要写Oracle
11g的docker安装方法。我最早是在2017年6月份在笔记里记录的11g的docker，一晃5年过去了，这篇文章还用得上。我在几个群里边问了问，很多企业还在用11g和12c，就像他们还在用MySQL5.6，还在用JDK7，还在坚守CentOS，还在用SVN。</p>
<p>再延伸一下，如果文章会打酱油的话，现在<a href="https://www.bmpi.dev/hexo/img/bazinga.gif">CSDN</a>上到处都是长得一模一样的孩子开杂货铺卖酱油了，中文互联网内容在凋零，新互联网人在抱残守缺，不愿输出新内容，进而导致全网性的内容过时、技术过时。</p>
<h2 id="oracle-11g">Oracle 11g</h2>
<h3 id="容器安装">容器安装</h3>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run  -p 1521:1521 <span style="color:#0ff;font-weight:bold">\
</span><span style="color:#0ff;font-weight:bold"></span>-v /opt/docker/oracle/data/oracle:/data/oracle <span style="color:#0ff;font-weight:bold">\
</span><span style="color:#0ff;font-weight:bold"></span>--name oracle11 <span style="color:#0ff;font-weight:bold">\
</span><span style="color:#0ff;font-weight:bold"></span>-d registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g
</code></pre></div><ul>
<li>-p [xxxx]:1521 将容器中的1521端口映射到宿主机的xxxx端口
<ul>
<li>p - port 端口</li>
</ul>
</li>
<li>-v [/xxx/xxx]: /data/oracle 将容器中的/data/oracle 目录映射到宿主机的/xxx/xxx目录，在这里我映射到宿主机的/opt/docker/oracle/data/oracle
<ul>
<li>v - volume 卷</li>
</ul>
</li>
<li>-d 后台运行容器，并返回容器ID
<ul>
<li>d - detach 分离</li>
</ul>
</li>
</ul>
<h3 id="配置环境变量">配置环境变量</h3>
<p>进入容器内部</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker <span style="color:#fff;font-weight:bold">exec</span> -it --user root oracle11 /bin/bash
</code></pre></div><p>安装vim编辑器</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yum install vim
</code></pre></div><p>编辑 /etc/profile</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">vim /etc/profile
</code></pre></div><p>在尾部添加如下字段</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#fff;font-weight:bold">export</span> ORACLE_HOME=/home/oracle/app/oracle/product/11.2.0/dbhome_2
<span style="color:#fff;font-weight:bold">export</span> ORACLE_SID=helowin
<span style="color:#fff;font-weight:bold">export</span> PATH=$ORACLE_HOME/bin:$PATH
</code></pre></div><h3 id="创建新用户并授权远程登录">创建新用户并授权远程登录</h3>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">su -oracle
sqlplus /nolog
conn /as sysdba
<span style="color:#007f7f">#修改system用户账号密码；</span>
alter user system identified by system;
<span style="color:#007f7f">#修改sys用户账号密码；</span>
alter user sysidentified by system;
<span style="color:#007f7f">#创建内部管理员账号；</span>
create user YONGHUMING identified by MIMA; 
<span style="color:#007f7f">#授权</span>
grant connect,resource,dba to YONGHUMING;  
 <span style="color:#007f7f">#修改密码规则策略为密码永不过期；</span>
ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;
<span style="color:#007f7f">#修改数据库最大连接数据；</span>
alter system <span style="color:#fff;font-weight:bold">set</span> processes=<span style="color:#ff0;font-weight:bold">1000</span> scope=spfile; 
<span style="color:#fff;font-weight:bold">exit</span>

</code></pre></div><h3 id="重启数据库使之生效">重启数据库使之生效</h3>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sqlplus /nolog
conn /as sysdba
shutdown immediate;
startup;
<span style="color:#fff;font-weight:bold">exit</span>
</code></pre></div><h3 id="修改字符集为-utf-8">修改字符集为 utf-8</h3>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#007f7f">#Server端字符集修改</span>
sqlplus <span style="color:#0ff;font-weight:bold">&#34;/as sysdba&#34;</span>
conn /as sysdba;
shutdown immediate;
startup mount;
<span style="color:#007f7f">#将数据库启动到RESTRICTED模式下做字符集更改：</span>
ALTER SYSTEM ENABLE RESTRICTED SESSION;
ALTER SYSTEM SET JOB_QUEUE_PROCESSES=0;
ALTER SYSTEM SET AQ_TM_PROCESSES=0;
alter database open;
alter database character <span style="color:#fff;font-weight:bold">set</span> INTERNAL_USE UTF8;
shutdown immediate;
startup;
exit;
</code></pre></div><p>至此，Oracle 11g 的容器安装完成，但是真不希望有人再继续安装11g，转而去安装更高版本，我也会在后续日志中补全12g以及后续LTS版本。</p>

        </div>

        <div id="article-info">
          
        <div style="color: #5c7080;font-size: small;font-style: italic;">
          更新时间:
          
          
          
          
          
              今日
          
          
           版本: <a href="https://github.com/madawei2699/bmpi.dev/commit/9b073c1d5811a411fcc8ea4bf330bb5710606d49">9b073c1</a>
        </div>
        

        <div style="text-align: center;color: darkgray;">
          
          <p>本作品采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" style="color: darkgray;">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可</p>
          
        </div>

        <div style="border-bottom-style: dashed;border-bottom-style: inset;border-bottom-width: 2px;width: 50%;margin: 0 auto;"></div>
        
        </div>
      </div>

      <footer>
        <div>
  
  <h2 style="border-style: none;margin: 10px 0;">相关文章推荐</h2>
  
  <div style="padding-left: 10px;">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li style="list-style: none;"><a href="https://www.bmpi.dev/dev/docker-1-container-mysql/">Docker-1、容器安装之MySQL(5.7/8.0)</a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
  </div>
  <div style="border-bottom-style: dashed;border-bottom-style: inset;border-bottom-width: 2px;width: 50%;margin: 20px auto;"></div>
</div>

        <div class="sharethis-inline-reaction-buttons"></div>
<div class="sharethis-inline-share-buttons"></div>

        

        


        
        
        <script src="https://utteranc.es/client.js"
  repo= "bmpi-dev/bmpi.dev"
  issue-term="title"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>
      </footer>
    </article>
    <template><span id="control"></span></template>
    <div id="toast"></div>

    
  </section>

    </div>

    <footer class="footer">
  
  <div class="footer-taxonomy">
    <a href=https://www.bmpi.dev/tags style="color: #B36D61;">Tags</a>
    👈
    <a href=https://www.bmpi.dev/categories style="color: #FF8C31;">Categories</a>
    👉
    <a href=https://www.bmpi.dev/series style="color: #519A73;">Series</a>
  </div>
  <section class="container">
    
     © 2019 - 2022
    
    
  </section>
</footer>

  </main>

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-154678195-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-154678195-1');
  </script>
  

  
  <script>(function(w,d, s, id) {w.webpushr=w.webpushr||function(){(w.webpushr.q=w.webpushr.q||[]).push(arguments)};var js, fjs = d.getElementsByTagName(s)[0];js = d.createElement(s); js.id = id;js.src = "https://cdn.webpushr.com/app.min.js";fjs.parentNode.appendChild(js);}(window,document, 'script', 'webpushr-jssdk'));webpushr('init','BHuwaXciWicBjh6HQS2tfudv6IYQD11K9u1NUj7nuaEV9NoDT7ns9JjgqyYTflUv-m3TlD7ELY84AHMfgmPXNgU');</script>
  

  

  
  <script src="//unpkg.com/heti/umd/heti-addon.min.js"></script>
  <script>
    
    const heti = new Heti('.heti p, li, a, h1, h2, h3, h4, h5, h6, .title');
    heti.autoSpacing(); 
    
    AOS.init({
      disable: 'mobile'
    });
  </script>
  

  

  

</body>

</html>
